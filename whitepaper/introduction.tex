
\section{Introduction and Problem Statement}

% (Give a brief overview of App Store ecosystem and intermediaries.) 

% (Explaining the problem for each of the 3 main flows. Problem of double attribution, problem of refutation,....)

App stores are a distribution channel between the developer and the end user. Although software distribution exists since there is software development, the current model of smartphone became popular with the launch of Apple App Store in July 2008, and with its pre-load in iPhone 3G.

In the same year, but later in August 2008, Google announced the launch of Android Market\cite{wiki:market}, the App Store for Android.

These initial app stores followed a centralized model where one entity is responsible for assuring the core features of software distribution: file delivery, app discovery, financial transactions, and app approval. As the smartphone userbase grew, the centralized model start to show severe flaws. The flaws and problems identified are strongly related with the existent model: lack of trust and economical efficiciency. 

By not being transparent, app stores don't earn the trust among the different stkeholders: developers, advertisers, users, and OEM manufacturers. Being centralized, they cannot benefit of the shared and crowdsourcing economy. Being closed source and hidden data, they don't promote competition and innovation.

\begin{figure}[!ht]
\centering
%\includegraphics[width=11cm]{diagrams/current_flows.png}
\includegraphics[width=\textwidth]{diagrams/current_flows.png}
\caption{Individual existent core flows in app stores.}
\label{fig:exist_flows}
\end{figure}


The App Coins protocol cover three critical flows:

\begin{itemize}
\item {\bf Advertising inside the app store}: the transactional flow where a developer pays for a user to install their app or game. There are different advertising models depending on the action that triggers the actual payment of the Ad: CPI (Cost per Installation), CPA (Cost per Action), CPM (Cost per mil impressions),... There are different technology and platforms to support it: Ad networks, Exchanges and RTB (Real Time Bidding).
\item {\bf In-App Purchase}: when there is something that the user wants to buy inside the app or the game, like gems or unlock levels, the purchase mechanism is done through the app store. To enable those transactions the developer has to integrate the SDK from the App Store or to use the app store API.
\item {\bf App approval}: in order the app to be available, the developer has to go through an approval process where the App Store manually tests the application and then screen it through automatic tools like anti-virus, anti-malware tools, and static and dynamic code analysis platforms.
\end{itemize}

In the next sub-sections, we'll analyse each of the above flows and the main problems faced today.

\subsection{Advertising}


Currently, the three flows presented in figure \ref{fig:exist_flows} don't have any interaction between them. They are isolated and handled by different app stores teams. The resources and information generated by one flow are not reused by the others. The intermediaries are many and were introduced to solve the lack of trust and the need to integrate with different players in a fragmented market.  



In the next sub-sections, we'll analyse each of the above flows individually and the main problems faced today.

\subsection{Advertising}

For a developer or a publisher, the most natural place to advertise an application or game is where the users are looking for that kind of content: the app store.

\begin{figure}[!ht]
\centering
%\includegraphics[width=11cm]{diagrams/current_flows.png}
\includegraphics[width=\textwidth]{diagrams/cpi.png}
\caption{Cost per Installation (CPI) ecosystem.}
\label{fig:exist_flows}
\end{figure}


For simplicity, we will focus in the Cost per Install (CPI) model, since the difference to the other models, like Cost per Action (CPA) or Cost per Mil impressions (CPM), is a matter of who shares the risk and captures the value.

In a CPI model, the developer bids for an Installation proposing a price 






\subsection{Paper organization}


